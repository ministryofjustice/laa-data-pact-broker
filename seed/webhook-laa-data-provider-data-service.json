{
  "description": "Trigger laa-data-provider-data pact",
  "provider": {
    "name": "LAA Data Provider Data Service"
  },
  "events": [
    {
      "name": "contract_content_changed"
    }
  ],
  "request": {
    "method": "POST",
    "url": "https://api.github.com/ministryofjustice/laa-data-provider-data/actions/workflows/pact-verification.yml/dispatches",
    "headers": {
      "Content-Type": "application/json",
      "Authorization": "token ${GITHUB_ACCESS_TOKEN}"
    },
    "body": {
      "branch": "main",
      "parameters": {
        "only_pacts": true,
        "pact_consumer_tags": "${pactbroker.consumerVersionTags}"
      },
      "inputs": {
        "consumer": "${pactbroker.consumerName}",
        "provider": "${pactbroker.providerName}",
        "pactUrl": "${pactbroker.pactUrl}"
      }
    }
  }
}

